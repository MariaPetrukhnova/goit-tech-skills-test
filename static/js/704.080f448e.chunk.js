"use strict";(self.webpackChunktweets_cards=self.webpackChunktweets_cards||[]).push([[704],{704:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(142);function a(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=n(433),c=n(439),l=n(791),u=function(e){return fetch("https://6456655a5f9a4f236142e706.mockapi.io/users").then((function(e){return e.ok?e.json():Promise.reject(new Error("Something went wrong"))}))},d="Card_Card__TSGmu",f="Card_CardLogo__L2lag",h="Card_CardContent__aECGU",w="Card_CardAvatarContainer__vIZJk",m="Card_CardAvatar__Qd46Z",p="Card_CardTextContainer__RFST5",x="Card_CardTitle__0IA8w",C="Card_CardStatsText__i1DQi",b=n(184);function g(e){var t=e.Click,n=e.btnLabel;return e.btnType?(0,b.jsx)("button",{onClick:t,style:{display:"block",margin:"0 auto",width:196,padding:14,fontFamily:"Montserrat",fontWeight:600,fontSize:18,lineHeight:"1.22",textTransform:"uppercase",color:"#373737",borderRadius:10,backgroundColor:"#5CD3A8",boxShadow:"0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25)",border:"none"},children:n}):(0,b.jsx)("button",{onClick:t,style:{display:"block",margin:"0 auto",width:196,padding:14,fontFamily:"Montserrat",fontWeight:600,fontSize:18,lineHeight:"1.22",textTransform:"uppercase",color:"#373737",borderRadius:10,background:"#EBD8FF",boxShadow:"0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25)",border:"none"},children:n})}function A(e){var t=e.userId,n=e.userName,r=e.userTweets,a=e.userFollowers,s=e.userAvatar,o=e.updateStatusFunc,i=e.isFollowed;return(0,b.jsx)("section",{className:d,id:t,children:(0,b.jsxs)("div",{className:h,children:[(0,b.jsx)("img",{className:f,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAAAsCAYAAACZmXFCAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASASURBVHgB7Zw/TxtBEMXHEY4ERSyFAgpTQOFIUJACCpo0afOVU6WgoQhSQIoLU2ApuHCBCywFS2QenksOe2dv73bXRDA/aWVx7A335zH7bnbPrYeHhy9kFFy0Wq0rioCvZ5c/PpLxyBsyyhywQN6RkQwT2DJHLLJ1MpJgAltmg9sRGUkwgbnpcBbbJyMaE5jOHotsl4woTGB+YPo3yWiMCayaQzP9zTGBVfNo+llka2TUxgQWRodbj4zamMDCMdPfABNYPcz01ySXr5hxu+Y25fZbPmGU33LDVMym/Nw09i23kcSeyfYNifsuInYIMP2nPGc5pdVzSfNzL9Mmd2HY1bcuuJYHFEFqgY259fnij6s6SiaArwnNCBDSgNsVx79X+gwk9o7EziG0wvRDZDNaLbeL15aPYyO0b104NsWSUmC1ViLIyZ/ySezRXAy+Y0E2vPQIazE2+l9z7B7lMeeF6b8kw0sqD3bedJkL74es88PTBRnxPFRcC7H72J/yYKY/gBQC60vGaIQUMbUsMxKRNCazyMz0VxA7RN76BCBrq9BgRO+4jcu+RYqXJzT3NYvARF94YmNfDFX4nPn8Bo5RhJBDDM9p+n3sKOIfLHpH7of748rG0R42VmBODyI3H6s6tx2/65dEiT6aSb3mfndK/C3Zt13ahr5Dj+Cx/YTS85ym30dX2T6kf0/eBbiOWQrJMQKberKGU1xCT5YVjzx9wNC1UcR17PjVhsRe4+NaEj6OVUSoCToGM/0KMQL75doo4ikLB0OHKxNh6CwLtBjuwFjLXlRdl4H5Hinih6hzGXP8XZxr7YeRl0xUBlO2L2aln3yzh1QB3xxkva4vNvdB7JAMhDqYS2CxhccqIP7Kc31NxDxFagJLMQRp2Sv0hYz3yvZVeCTLYCX+1yUo2nGFCkTrl/vm40Hijoy/xGQwTQQTiked/qAwtJucc45yEFuze4nECEwbrhaLruuox5RayDDnrFeJcQ+pN42U7R3Kw9T15GrECWzHtVFEUJ42+kDz+lPRQmbn254K+XfyM/DMLGxReiD4UzKcxAhMFQHfYFTgMVwsZht4oxsKo6vEhoC/KbH7WiaR8kmOGtiZp6Ty6ok1+SguOv97iznAkggxnVOnTICpDizNmThiI85XiY0qNMz7pGJCPEelul/znF4dsZPdm7IkRgUZR1qTG3Hoe9lC4t7IpyouOcbU2ctMfQApVlP0qkRWhUz/uPwRTPlxzBs9mdaEmakPJNV6MIhsv64Q0J8bTD/mFttKNwyDn+q+m1iKnVxcZKY+mJSFVqxM3cZqCZrPJarlBPFOyFh4Em0HxMbw9pn3w9NhvyL2mhzLbmDsujynqV93LJGuW9tbdyyFzlYfbGX8Ajp4LgihMOm4MLj5hTGPjV3UxO4lHi5Sh/Ks+SroV/ku+wK6p+ScKupI26b0FLFXiZn6Bth7kWGYqW+ICawaM/URmMCqsUp9BCYwPxdWqY/DBKYziP1Kc8MEpjExU58GE9gyMPVnZCTBBLaMmfqEmMCeYqY+MX8Au/W380rAxe0AAAAASUVORK5CYII=",alt:"logo"}),(0,b.jsx)("div",{className:w,children:(0,b.jsx)("img",{className:m,src:s,alt:"avatar"})}),(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)("h2",{className:x,children:n}),(0,b.jsxs)("p",{className:C,children:[(0,b.jsx)("span",{children:r.toLocaleString("en-US")})," tweets"]}),(0,b.jsxs)("p",{className:C,children:[(0,b.jsx)("span",{children:a.toLocaleString("en-US")})," followers"]})]}),(0,b.jsx)(g,{btnLabel:i?"Following":"Follow",Click:function(e){fetch("https://6456655a5f9a4f236142e706.mockapi.io/users/".concat(t),{method:"PUT",body:JSON.stringify({name:n,tweets:r,followers:a+(i?-1:1),avatar:s,id:t}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){o({user:e,status:!i})})).catch((function(e){return console.log("ERROR"+e)}))},btnType:i})]})})}var y=n(689),j=n(87),T="Tweets_Tweets_container__cgCMc",v="Tweets_Tweets_textBox__Ia1Mx",S="Tweets_Tweets_backBtn__qwcVP",_="Tweets_Tweets_title__CBSCL",N="Tweets_Tweets_loadmore__B5mNS",k="Tweets_Tweets_listGrid__kxLKo",O="followings",F=function(){var e,t,n=(0,l.useState)([]),r=(0,c.Z)(n,2),a=r[0],s=r[1],d=(0,l.useState)(null),f=(0,c.Z)(d,2),h=f[0],w=f[1],m=(0,l.useMemo)((function(){return(null===a||void 0===a?void 0:a.slice(0,3*(h+1)))||[]}),[a,h]),p=(0,l.useState)({}),x=(0,c.Z)(p,2),C=x[0],g=x[1],F=(0,y.TH)(),M=(0,l.useRef)(null!==(e=null===(t=F.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"),R=(0,l.useState)([]),B=(0,c.Z)(R,2),P=B[0],U=B[1];(0,l.useEffect)((function(){null===h&&(w((function(e){return 0})),u().then((function(e){var t=JSON.parse(localStorage.getItem(O)||"[]");U((function(e){return(0,i.Z)(t)}));var n=e.map((function(e){return{id:e.id,name:e.name,tweets:e.tweets,followers:e.followers,avatar:e.avatar}}));console.log(n),s((function(e){return(0,i.Z)(n)})),console.log(a)})).catch((function(e){return new Error("Something goes wrong: ".concat(e))})))}),[h,a]),(0,l.useEffect)((function(){Object.keys(C).length&&(s((function(e){var t=(0,i.Z)(e),n=t.findIndex((function(e){return e.id===C.id}));return-1!==n&&(t[n]=o({},C)),(0,i.Z)(t)})),g((function(e){return{}})))}),[C,a]);return(0,b.jsxs)("div",{className:T,children:[(0,b.jsxs)("div",{className:v,children:[(0,b.jsxs)(j.rU,{to:M.current,className:S,children:[String.fromCharCode(9664),"Back to home"]}),(0,b.jsx)("h2",{className:_,children:"Tweets cards:"})]}),(0,b.jsx)("ul",{className:k,children:m&&m.map((function(e){var t=e.id,n=e.name,r=e.tweets,a=e.followers,s=e.avatar;return(0,b.jsx)("li",{children:(0,b.jsx)(A,{userId:t,isFollowed:P.includes(t),userName:n,userTweets:r,userFollowers:a,userAvatar:s,updateStatusFunc:function(e){return function(e){var t=e.user,n=e.status,r=(0,i.Z)(P);if(n)r.push(t.id);else{var a=r.indexOf(t.id);r.splice(a,1)}g((function(e){return o({},t)})),U((function(e){return(0,i.Z)(r)})),localStorage.setItem(O,JSON.stringify(r))}({user:e.user,status:e.status})}})},t)}))}),(0,b.jsx)("button",{className:N,onClick:function(e){e.preventDefault(),w((function(e){return e+1}))},children:"Load more"})]})}}}]);
//# sourceMappingURL=704.080f448e.chunk.js.map